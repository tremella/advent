function E(){if(document.getElementById("postcard-message"))return;const m=17,i=["./src/data/starry_night/star_major.png","./src/data/starry_night/star_minor.png"];let h=new Audio("/advent/sounds/starsound.mp3");class u{constructor(e){this.element=e,this.setFeatures()}setFeatures(){this.element.style.left=`${Math.random()*95}%`,this.element.style.top=`${Math.random()*30}%`,this.element.style.opacity=.3+Math.random()*.4,this.element.src=i[Math.floor(Math.random()*i.length)],this.element.classList.add("star");const e=Math.random()*2;this.element.style.animationDelay=`-${e}s`,this.element.addEventListener("mouseenter",()=>{this.element.classList.add("star--hover");let o=new Audio(h.src);o.volume=.7,o.play()}),this.element.addEventListener("mouseleave",()=>{this.element.classList.remove("star--hover")})}}const s=document.getElementById("starry_night");function p(){for(let n=0;n<m;n++){const e=document.createElement("img");s.appendChild(e),new u(e)}}const y=3;let f=new Audio("/advent/sounds/doorbell.mp3"),a=[{left:"12%",top:"72%",width:"2em",height:"2em"},{left:"72%",top:"76%",width:"3.5em",height:"2.5em"},{left:"85%",top:"75%",width:"2em",height:"2.5em"}],r=[{left:"14%",top:"76%"},{left:"76%",top:"81%"},{left:"87.5%",top:"81%"}];function g(){for(let n=0;n<y;n++){const e=document.createElement("div");e.style.left=a[n].left,e.style.top=a[n].top,e.style.width=a[n].width,e.style.height=a[n].height,e.classList.add("door");const o=document.createElement("img");o.classList.add("door-glow"),o.style.left=r[n].left,o.style.top=r[n].top,s.appendChild(o),s.appendChild(e),e.addEventListener("click",function(){let c=new Audio(f.src);c.volume=.2,c.play()})}}let t=document.createElement("div");t.id="advice-overlay",t.style.opacity="1",t.style.transition="opacity 2s";let d=document.createElement("p");d.innerHTML="try clicking or hovering on things!",t.appendChild(d),s.appendChild(t),setTimeout(function(){t.style.opacity="0",setTimeout(function(){s.contains(t)&&s.removeChild(t)},2e3)},2500),t.addEventListener("click",function(){t.style.opacity="0",setTimeout(function(){s.contains(t)&&s.removeChild(t)},2e3)});let l=document.createElement("h1");l.id="postcard-message",l.innerHTML="Merry Christmas",s.appendChild(l);let v=new Audio("/advent/sounds/music-box.mp3");l.addEventListener("click",function(){v.play()}),p(),g()}export{E as run};
